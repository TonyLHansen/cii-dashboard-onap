<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<style type='text/css'>
table, th, td {
    border-collapse: collapse;
    border: solid black 1px;
}
</style>
<h1>ONAP Project CII Statuses</h1>
<table id='tr'>
<thead><tr>
<th>Id</th>
<th>badge_percentage_0</th>
<th>badge_percentage_1</th>
<th>badge_percentage_2</th>
<th>name</th>
</thead>
<tfoot><tr>
<th>Id</th>
<th>badge_percentage_0</th>
<th>badge_percentage_1</th>
<th>badge_percentage_2</th>
<th>name</th>
</tfoot>
</table>
<script>

class Query {
    constructor() {
        var query = window.location.search.substring(1);
        this.parms = query.split('&');
    }
    function parm(nm, getAll) {
        var retA = [];
        for (var i = 0; i < this.parms.length; i++) { 
            var pos = this.parms[i].indexOf('=');
            if ((pos > 0) && (nm == this.parms[i].substring(0, pos))) {
                var val = this.parms[i].substring(pos + 1);
                if (getAll) {
                    retA.append(val);
                } else {
                    return val
                }
            }
        }
        if (getAll) {
            return retA;
        } else {
            return ""; 
        }
    } 
}

parms = new Query();
console.log("parm help='" + parms.parm('help'));

</script>



// $(document).ready(function() {
//
//     function logResults(json){
//       console.log(json);
//     }
//
//     var ciiurl = 'get-onap-cii-statuses.cgi?q=ONAP'; // 'https://bestpractices.coreinfrastructure.org/projects.json?q=ONAP';
// alert("ciiurl=" + ciiurl);
//     // jQuery.support.cors = true;
//     $.ajax({
//             'url': ciiurl,
// 	    'accepts': "application/json; charset=utf-8",
// 	    'dataType': 'jsonp',
//             // crossDomain: true,
// 	    'method': 'GET',
// 	    'headers': {
// 	        'Accept': "application/json"
// 	    },
//             jsonpCallback: "logResults"
// 	})
//     .done(function(data) {
//             console.log("data=" + data);
//             alert(data);
//     })
//     .fail(function( jqxhr, textStatus, error ) {
//         var err = textStatus + ", " + error;
//         alert(err);
//         console.log("err=" + err);
//     });
//
//
// //  var data = $.getJSON( ciiurl, {
// //    tagmode: "any",
// //    format: "json"
// //  });
//
// });
// </script>
//
